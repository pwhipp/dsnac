{% extends 'base_page.html' %}
{% block title %}Search inside our books{% endblock title %}
{% block main %}

    <section>
        <div class="container">
            <div class="row">
                <div class="col-lg-10 search-block">
                    <h1>search</h1>

                    <div>
                        <form action="." method="get">
                            <input id="id_q" name="q" type="search" placeholder="Within book words or phrase"/>
                            <br/>
                            <input class="search-button" type="submit" value="Search">
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div class="clearfix"></div>

        <div class="container">
            <div class="row">
                <div class="col-lg-offset-2 col-lg-10 search-results">
                    {% if query %}
                        <h3>Results</h3>
                        {% for result in page.object_list %}

                            <div class="col-lg-2 search_results_pic">
                                <a href="{{ result.object.get_in_book_url }}">
                                    <img src="{{ STATIC_URL }}img/theme/nocover.png" alt=""/>
                                </a>
                            </div>

                            <div class="col-lg-8 search_results_title">
                                <a href="{{ result.object.get_in_book_url }}" class="search_results_book">{{ result.object.book.title }} (Page {{ result.object.num }})</a> by <span style="font-size: 16px">{{ result.object.book.creator }}</span>
                                <p class="search_results_year">{{ result.object.book.published }}</p>
                            </div>

                            <div class="col-lg-2 ">
                                <a class="search_results_read" href="{{ result.object.get_in_book_url }}">Read <i class="glyphicon glyphicon-bookmark"></i></a>
                            </div>

                            <div class="clearfix"></div>

                            {% empty %}

                            <h3>No results found.</h3>

                        {% endfor %}
                        {% if page.has_previous or page.has_next %}
                            <div>
                                {% if page.has_previous %}<a href="?q={{ query }}&amp;page={{ page.previous_page_number }}">{% endif %}&laquo; Previous{% if page.has_previous %}</a>{% endif %}
                                |
                                {% if page.has_next %}<a href="?q={{ query }}&amp;page={{ page.next_page_number }}">{% endif %}Next &raquo;{% if page.has_next %}</a>{% endif %}
                            </div>
                        {% endif %}
                    {% else %}
                        <h3>No results yet</h3>
                        <p>Type your search text in the box above and click the search button.</p>
                        <div style="width: 100%; height: 200px;"></div>
                    {% endif %}
                </div>
            </div>
        </div>



    </section>
{% endblock main %}